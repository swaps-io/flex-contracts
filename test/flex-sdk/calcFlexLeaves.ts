import { expect } from 'chai';

import { calcFlexLeaves } from '../../@swaps-io/flex-sdk';

describe('flex-sdk/calcFlexLeaves', function () {
  it('Should calc 1 leaf of tree', function () {
    const leaves = calcFlexLeaves({
      tree: '0x1111111111111111111111111111111111111111111111111111111111111111',
    });
    expect(leaves).deep.equal([
      '0x1111111111111111111111111111111111111111111111111111111111111111',
    ]);
  });

  it('Should calc 2 leaves of tree', function () {
    const leaves = calcFlexLeaves({
      tree: [
        '0x1111111111111111111111111111111111111111111111111111111111111111',
        '0x2222222222222222222222222222222222222222222222222222222222222222',
      ],
    });
    expect(leaves).deep.equal([
      '0x1111111111111111111111111111111111111111111111111111111111111111',
      '0x2222222222222222222222222222222222222222222222222222222222222222',
    ]);
  });

  it('Should calc 2 leaves of tree in different order', function () {
    const leaves = calcFlexLeaves({
      tree: [
        '0x2222222222222222222222222222222222222222222222222222222222222222',
        '0x1111111111111111111111111111111111111111111111111111111111111111',
      ],
    });
    expect(leaves).deep.equal([
      '0x2222222222222222222222222222222222222222222222222222222222222222',
      '0x1111111111111111111111111111111111111111111111111111111111111111',
    ]);
  });

  it('Should calc 3 leaves of tree', function () {
    const leaves = calcFlexLeaves({
      tree: [
        [
          '0x1111111111111111111111111111111111111111111111111111111111111111',
          '0x2222222222222222222222222222222222222222222222222222222222222222',
        ],
        '0x3333333333333333333333333333333333333333333333333333333333333333',
      ],
    });
    expect(leaves).deep.equal([
      '0x1111111111111111111111111111111111111111111111111111111111111111',
      '0x2222222222222222222222222222222222222222222222222222222222222222',
      '0x3333333333333333333333333333333333333333333333333333333333333333',
    ]);
  });

  it('Should calc 3 leaves of tree in different order', function () {
    const leaves = calcFlexLeaves({
      tree: [
        '0x1111111111111111111111111111111111111111111111111111111111111111',
        [
          '0x3333333333333333333333333333333333333333333333333333333333333333',
          '0x2222222222222222222222222222222222222222222222222222222222222222',
        ],
      ],
    });
    expect(leaves).deep.equal([
      '0x1111111111111111111111111111111111111111111111111111111111111111',
      '0x3333333333333333333333333333333333333333333333333333333333333333',
      '0x2222222222222222222222222222222222222222222222222222222222222222',
    ]);
  });

  it('Should calc 11 leaves of tree', function () {
    const leaves = calcFlexLeaves({
      tree: [
        [ // 1, 2, 3, 4, 5, 6
          [ // 1, 2, 3
            [ // 1, 2
              '0x1111111111111111111111111111111111111111111111111111111111111111',
              '0x2222222222222222222222222222222222222222222222222222222222222222',
            ],
            '0x3333333333333333333333333333333333333333333333333333333333333333',
          ],
          [ // 4, 5, 6
            [ // 4, 5
              '0x4444444444444444444444444444444444444444444444444444444444444444',
              '0x5555555555555555555555555555555555555555555555555555555555555555',
            ],
            '0x6666666666666666666666666666666666666666666666666666666666666666',
          ],
        ],
        [ // 7, 8, 9, 10, 11
          [ // 7, 8, 9
            [ // 7, 8
              '0x7777777777777777777777777777777777777777777777777777777777777777',
              '0x8888888888888888888888888888888888888888888888888888888888888888',
            ],
            '0x9999999999999999999999999999999999999999999999999999999999999999',
          ],
          [ // 10, 11
            '0xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',
            '0xBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB',
          ],
        ],
      ],
    });
    expect(leaves).deep.equal([
      '0x1111111111111111111111111111111111111111111111111111111111111111',
      '0x2222222222222222222222222222222222222222222222222222222222222222',
      '0x3333333333333333333333333333333333333333333333333333333333333333',
      '0x4444444444444444444444444444444444444444444444444444444444444444',
      '0x5555555555555555555555555555555555555555555555555555555555555555',
      '0x6666666666666666666666666666666666666666666666666666666666666666',
      '0x7777777777777777777777777777777777777777777777777777777777777777',
      '0x8888888888888888888888888888888888888888888888888888888888888888',
      '0x9999999999999999999999999999999999999999999999999999999999999999',
      '0xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',
      '0xBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB',
    ]);
  });
});
